(function(e,g){"object"===typeof exports?module.exports=g():"function"===typeof define&&define.amd?define(g):e.dashboard=g()})(this,function(){function e(g,e){function u(a,c,d){b.save();b.fillStyle=m;b.font=c;b.textAlign="center";b.textBaseLine="top";b.fillText(a,0,d);b.restore()}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();var a=document.getElementById(g),b=
a.getContext("2d"),h=Number(a.width),k=Number(a.height),n=(a.attributes["data-label"]||{value:""}).value,c=Number((a.attributes["data-score"]||{value:"0"}).value),p=(a.attributes["data-color"]||{value:"#000000"}).value,q=(a.attributes["data-background-color"]||{value:"#BFBFBF"}).value,m=(a.attributes["data-text-color"]||{value:"#000000"}).value,v=(a.attributes["data-pre-text"]||{value:""}).value,w=(a.attributes["data-post-text"]||{value:""}).value,r=Number((a.attributes["data-bar-width"]||{value:10}).value),
d=Math.PI/9,x=14*Math.PI/9/100,y=e/(1E3/60),l=0,f=0,z=(h>k?k:h)/2-r,t=c/y,A=function(){a.attributes["data-label"]&&a.attributes["data-label"].value!==n&&(n=(a.attributes["data-label"]||{value:""}).value);a.attributes["data-color"]&&a.attributes["data-color"].value!==p&&(p=(a.attributes["data-color"]||{value:"#000000"}).value);a.attributes["data-background-color"]&&a.attributes["data-background-color"].value!==q&&(q=(a.attributes["data-background-color"]||{value:"#BFBFBF"}).value);a.attributes["data-text-color"]&&
a.attributes["data-text-color"].value!==m&&(m=(a.attributes["data-text-color"]||{value:"#000000"}).value);a.attributes["data-pre-text"]&&a.attributes["data-pre-text"].value!==v&&(v=(a.attributes["data-pre-text"]||{value:""}).value);a.attributes["data-post-text"]&&a.attributes["data-post-text"].value!==w&&(w=(a.attributes["data-post-text"]||{value:""}).value);a.attributes["data-bar-width"]&&a.attributes["data-bar-width"].value!==r&&(r=Number((a.attributes["data-bar-width"]||{value:10}).value));a.attributes["data-score"]&&
Number(a.attributes["data-score"].value)!==c&&(c=Number((a.attributes["data-score"]||{value:"0"}).value),f=l=0,t=c/y);if(0>c||100<c)console.log('"data-score"\u53ea\u80fd\u662f0-100'),c=100;b.save();b.clearRect(0,0,h,k);b.translate(h/2,k/2);l<c*x&&(l+=x*t);f=f<c?f+t:100<=f?100:c;b.save();b.restore();u(Math.floor(f)+"%","50px Microsoft yahei",0);u(n,"25px Microsoft yahei",40);b.save();b.beginPath();b.strokeStyle=q;b.lineWidth=20;b.rotate(9*d-(14*d-9*d)/2);b.arc(0,0,z,0,14*d,!1);b.stroke();b.restore();
b.save();b.restore();b.beginPath();b.lineWidth=20;b.strokeStyle=p;b.rotate(9*d-(14*d-9*d)/2);b.arc(0,0,z,0,l,!1);b.stroke();b.restore();window.requestAnimFrame(A)};setTimeout(function(){A()},10)}e.version="1.0.0";return e});
